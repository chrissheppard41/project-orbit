var Comet=function(){function a(a,b,c,d,e,f){var g=Facade_engine.SphereGeo({radius:a,segments:b}),h={};h=null!==e?{map:Facade_engine.MeshTexture(e)}:{color:16777215,shading:Facade_engine.FlatShading()};var i=Facade_engine.MeshMaterial({mat:h});this.co=Facade_engine.Mesh({geometry:g,material:i,x:d.x,y:d.y,z:d.z,update:f}),this.distance=d,this.location=c,this.stroke=Facade_engine.DrawStroke({twodX:c.x,twodY:c.y,threedX:d.x,threedY:d.y,hex:2236962}),this.angle=0}return a.prototype={draw:function(){360===this.angle&&(this.angle=0);var a=this.location.x+this.distance.x*Math.sin(this.angle*Math.PI/180),b=this.location.y+this.distance.y*Math.cos(this.angle*Math.PI/180),c=this.location.z+this.distance.z*Math.sin(this.angle*Math.PI/180);Facade_engine.MeshPosition(this.co,a,b,c),this.setSpeed(a),this.angle+=this.speed},getComet:function(){return this.co},getStroke:function(){return this.stroke},setSpeed:function(a){var b=10/a;b>0&&(this.speed=b)}},a}(),Moon=function(){function a(a,b,c,d,e){var f=Facade_engine.SphereGeo({radius:a,segments:b}),g={};g=null!==d?{map:Facade_engine.MeshTexture(d)}:{color:16777215,shading:Facade_engine.FlatShading()};var h=Facade_engine.MeshMaterial({mat:g});this.mn=Facade_engine.Mesh({geometry:f,material:h,x:c.x,y:c.y,z:c.z,update:e}),this.distance=c,this.angle=0}return a.prototype={draw:function(a,b,c){360===this.angle&&(this.angle=0);var d=a+this.distance.x*Math.sin(this.angle*Math.PI/180),e=b+this.distance.y*Math.cos(this.angle*Math.PI/180),f=c+this.distance.z*Math.sin(this.angle*Math.PI/180);Facade_engine.MeshPosition(this.mn,d,e,f),this.angle+=10/this.distance.x},getMoon:function(){return this.mn}},a}(),Planet=function(){function a(a,b,c,d,e,f){var g=Facade_engine.SphereGeo({radius:a,segments:b}),h={};h=null!==d?{map:Facade_engine.MeshTexture(d)}:{color:16777215,shading:Facade_engine.FlatShading()};var i=Facade_engine.MeshMaterial({mat:h});this.pl=Facade_engine.Mesh({geometry:g,material:i,x:c.x,y:c.y,z:c.z,update:e}),this.distance=c,this.angle=0,f&&(this.stroke=Facade_engine.DrawStroke({twodX:0,twodY:0,threedX:c.x,threedY:c.y,hex:4473924})),this.moons=[]}return a.prototype={draw:function(){360===this.angle&&(this.angle=0);var a=this.distance.x*Math.sin(this.angle*Math.PI/180),b=this.distance.y*Math.cos(this.angle*Math.PI/180),c=this.distance.z*Math.sin(this.angle*Math.PI/180);if(Facade_engine.MeshPosition(this.pl,a,b,c),this.angle+=10/this.distance.x,this.moons.length)for(var d=0;d<this.moons.length;d++)this.moons[d].draw(a,b,c)},getPlanet:function(){return this.pl},addMoon:function(a,b,c){var d=new Moon(a,b,c,null,!0);this.moons.push(d)},getMoons:function(){return this.moons},getStroke:function(){return this.stroke}},a}(),Facade_dom=function(){return{Element:function(a){return document.getElementById(a)},Append:function(a,b){a.appendChild(b)}}}(),Facade_engine=function(a){return{Camera:function(b){return this.camera=new a.PerspectiveCamera(b.fov,b.aspect,b.near,b.far),this.camera.position.x=b.x,this.camera.position.y=b.y,this.camera.position.z=b.z,this.camera},CameraAspect:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix()},Controls:function(b){return this.controls=new a.OrbitControls(this.camera),this.controls.damping=b.damping,this.controls.addEventListener("change",b.callback),this.controls},ControlsUpdate:function(){this.controls.update()},Scene:function(){return this.scene=new a.Scene,this.scene},SceneAdd:function(a){this.scene.add(a)},Fog:function(b,c){return new a.FogExp2(b,c)},Renderer:function(b){return this.renderer=new a.WebGLRenderer(b),this.RendererSetsize(),this.renderer},RendererSetsize:function(){this.renderer.setSize(window.innerWidth,window.innerHeight)},RendererRender:function(){this.renderer.render(this.scene,this.camera)},PointLight:function(b){var c=new a.PointLight(b.hex,b.intensity,b.distance);return c.position.set(b.x,b.y,b.z),c},AmbientLight:function(b){return new a.AmbientLight(b)},DirectionalLight:function(b){var c=new a.DirectionalLight(b.hex);return c.position.set(b.x,b.y,b.z),c},Stats:function(a){return this.stats=new Stats,this.stats.domElement.style.position=a.position,this.stats.domElement.style.top=a.top,this.stats.domElement.style.zIndex=a.zIndex,this.stats},StatsUpdate:function(){this.stats.update()},getRender:function(){return this.renderer},getStats:function(){return this.stats},SphereGeo:function(b){return new a.SphereGeometry(b.radius,b.segments,b.segments)},MeshMaterial:function(b){return new a.MeshLambertMaterial(b.mat)},Mesh:function(b){var c=new a.Mesh(b.geometry,b.material);return this.MeshPosition(c,b.x,b.y,b.z),c.updateMatrix(),c.matrixAutoUpdate=b.update,c},MeshPosition:function(a,b,c,d){a.position.x=b,a.position.y=c,a.position.z=d},MeshTexture:function(b){return a.ImageUtils.loadTexture(b)},FlatShading:function(){return a.FlatShading},DrawStroke:function(b){var c=new a.CurvePath;c.add(new a.EllipseCurve(b.twodX,b.twodY,b.threedX,b.threedY,0,2*Math.PI,!1));var d=c.createPointsGeometry(100);return d.computeTangents(),new a.Line(d,new a.LineBasicMaterial({color:b.hex,opacity:1}))}}}(THREE),Operation=function(){var a,b=[],c=[];return{init:function(){Facade_engine.Camera({fov:60,aspect:window.innerWidth/window.innerHeight,near:1,far:2e3,x:0,y:0,z:500}),Facade_engine.Controls({damping:.2,callback:this.render}),Facade_engine.Scene(),this.setPlanets(),this.setLights(),Facade_engine.Renderer({antialias:!1}),container=Facade_dom.Element("container"),Facade_dom.Append(container,Facade_engine.getRender().domElement),Facade_engine.Stats({position:"absolute",top:"0px",zIndex:100}),Facade_dom.Append(container,Facade_engine.getStats().domElement),window.addEventListener("resize",this.onWindowResize,!1),this.animate()},setPlanets:function(){a=new Planet(30,32,{x:0,y:0,z:0},null,!1,!1),Facade_engine.SceneAdd(a.getPlanet());var d=new Planet(1,10,{x:50,y:50,z:0},null,!0,!0);d.addMoon(.2,5,{x:5,y:5,z:-3},null,!0),d.addMoon(.3,5,{x:7,y:7,z:8},null,!0),b.push(d);var e=new Planet(1,10,{x:150,y:150,z:0},null,!0,!0);b.push(e);var f=new Planet(2,10,{x:200,y:200,z:-40},null,!0,!0);b.push(f);var g=new Planet(5,15,{x:230,y:260,z:30},null,!0,!0);if(g.addMoon(.2,5,{x:15,y:15,z:0},null),g.addMoon(.3,5,{x:10,y:10,z:0},null),g.addMoon(.5,5,{x:13,y:13,z:5},null),b.push(g),b.length)for(var h=0;h<b.length;h++){Facade_engine.SceneAdd(b[h].getPlanet()),Facade_engine.SceneAdd(b[h].getStroke());var i=b[h].getMoons();if(i.length)for(var j=0;j<i.length;j++)Facade_engine.SceneAdd(i[j].getMoon())}var k=new Comet(.82,10,{x:100,y:0,z:0},{x:200,y:40,z:200},null,!0,!0);if(c.push(k),c.length)for(var h=0;h<c.length;h++)Facade_engine.SceneAdd(c[h].getComet()),Facade_engine.SceneAdd(c[h].getStroke())},setLights:function(){light=new Facade_engine.PointLight({hex:16777215,intensity:1,distance:1e3,x:0,y:0,z:0}),Facade_engine.SceneAdd(light),light=new Facade_engine.AmbientLight(11184810),Facade_engine.SceneAdd(light)},animate:function(){var a=this;if(requestAnimationFrame(function(){a.animate()}),Facade_engine.ControlsUpdate(),b.length)for(var d=0;d<b.length;d++)b[d].draw();if(c.length)for(var e=0;e<c.length;e++)c[e].draw();this.render()},onWindowResize:function(){Facade_engine.CameraAspect(),Facade_engine.RendererSetsize()},render:function(){Facade_engine.RendererRender(),Facade_engine.StatsUpdate()}}}();!function(){Detector.webgl||Detector.addGetWebGLMessage(),Operation.init()}(THREE);
//# sourceMappingURL=build.min.js.map